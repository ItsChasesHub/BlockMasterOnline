<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Block Master</title>
    <link rel="stylesheet" href="blockmaster.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  </head>
  <body>
    <div class="game-wrapper">
      <div class="game-container">
        <div class="sidebar">
          <div class="title">Block Master</div>
          <div id="score">SCORE<br />00000000</div>
          <div id="timer">TIME<br />00:00</div>
          <button class="button" id="newGameBtn">NEW GAME</button>
          <button class="button" id="simpleBtn">SIMPLE</button>
          <button class="button" id="timedBtn">TIMED</button>
          <button class="button" id="explosionsBtn">EXPLOSIONS</button>
          <button class="button" id="slidersBtn">SLIDERS</button>
          <div class="upgrade-circle">Multiplier</div>
          <div id="bonusMultiplier">Multiplier: x1</div>
          <br>
          <button class="button" id="endGameBtn">END</button>
          <button class="button" id="discardGameBtn">DISCARD GAME</button>
        </div>
        <canvas id="gameCanvas" width="600" height="600"></canvas>
        <div class="leaderboard">
          <div class="leaderboard-title">Leaderboard</div>
          <div class="leaderboard-section">
            <h3>Simple</h3>
            <div id="simple-leaderboard"></div>
          </div>
          <div class="leaderboard-section">
            <h3>Timed</h3>
            <div id="timed-leaderboard"></div>
          </div>
          <div class="leaderboard-section">
            <h3>Explosions</h3>
            <div id="explosions-leaderboard"></div>
          </div>
          <div class="leaderboard-section">
            <h3>Sliders</h3>
            <div id="sliders-leaderboard"></div>
          </div>
        </div>
      </div>
      <div class="info-section">
        <div class="info-item">
          <a href="https://github.com/ItsChasesHub/BlockMasterOnline" target="_blank">
            <i class="fab fa-github"></i> GitHub
          </a>
        </div>
        <div class="info-item">
          <span>
            <i class="fab fa-bitcoin"></i> Bitcoin Donations (Only if you feel like supporting the creator)
          </span>
          <div class="address-container">
            <span class="copy-instruction">Click Address to Copy</span>
            <span class="bitcoin-address" data-address="1Ffv3XzG8nnTRd76poff6b5b593VZNzACJ">
              1Ffv3XzG8nnTRd76poff6b5b593VZNzACJ
            </span>
          </div>
        </div>
        <div class="info-item">
          <span>
            <i class="fab fa-ethereum"></i> Ethereum Donations (Only if you feel like supporting the creator)
          </span>
          <div class="address-container">
            <span class="copy-instruction">Click Address to Copy</span>
            <span class="ethereum-address" data-address="0x850564A34c0Eb953f98DC7068781aF1755904B08">
              0x850564A34c0Eb953f98DC7068781aF1755904B08
            </span>
          </div>
        </div>
      </div>
    </div>
    <script src="blockmaster.js"></script>
    <script>
      document.querySelectorAll('.bitcoin-address, .ethereum-address').forEach(addressElement => {
        addressElement.addEventListener('click', () => {
          const address = addressElement.getAttribute('data-address');
          console.log('Clicked address:', address);

          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(address).then(() => {
              console.log('Successfully copied to clipboard:', address);
              addressElement.classList.add('copied');
              setTimeout(() => {
                addressElement.classList.remove('copied');
              }, 2000);
            }).catch(err => {
              console.error('Failed to copy with navigator.clipboard:', err);
              fallbackCopy(address, addressElement);
            });
          } else {
            console.log('navigator.clipboard not supported, using fallback');
            fallbackCopy(address, addressElement);
          }
        });
      });

      function fallbackCopy(address, addressElement) {
        const tempInput = document.createElement('textarea');
        tempInput.value = address;
        document.body.appendChild(tempInput);
        tempInput.select();
        try {
          document.execCommand('copy');
          console.log('Successfully copied using fallback:', address);
          addressElement.classList.add('copied');
          setTimeout(() => {
            addressElement.classList.remove('copied');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy with fallback:', err);
          alert('Failed to copy address. Please copy it manually.');
        } finally {
          document.body.removeChild(tempInput);
        }
      }
    </script>
  </body>
</html>